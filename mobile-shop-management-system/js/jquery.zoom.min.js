;(function (o) {
  'use strict';

  // Default settings
  const defaultSettings = {
    url: false,
    callback: false,
    target: false,
    duration: 120,
    on: 'mouseover',
    touch: true,
    onZoomIn: false,
    onZoomOut: false,
    magnify: 1,
  };

  // Zoom function
  o.zoom = function (t, n, e, i) {
    const settings = o.extend({}, defaultSettings, n || {});
    const imgElement = o(e)[0];
    const container = o(t);
    const target = settings.target ? o(settings.target)[0] : t;
    const zoomElement = document.createElement('img');
    const $zoomElement = o(zoomElement);
    let posX, posY, mouseDown = false, touchStart = false;

    if (!settings.url) {
      const img = container.find('img');
      if (img.length) {
        settings.url = img.attr('data-src') || img.prop('currentSrc') || img.prop('src');
      } else {
        return;

